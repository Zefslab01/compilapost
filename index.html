<!DOCTYPE html>
<html>
<head>
	<h1>Compila intestazione</h1>
<p>Per funzionare, questo maker ha bisogno di un'intestazione con i placeholder negli stessi punti di come li si trova nell'esempio qui di seguito. Se hai prodotto la tua intestazione col maker a questo link (<a href="https://zefslab01.github.io/CompilaIntestazione/">Compila Intestazione</a>) la formattazione è già impostata nel modo corretto.</p>
</head>
<body>

<p>In particolare, le stringhe importanti sono:
<code><br>TESTO MESSAGGIO
<br><b><u>Tpc</u></b> <b>TIRO TPC</b> (danni <b>DANNO</b>)
<br><b><u>Conferma Critico</u></b> <b>CRITICO</b> (danno critico <b>DANNOCRITICO</b>)
<br><small>BONUS AL TPC</small></p></code>
<pre><code>
<div style="padding-bottom: 10px; width: 590px; background: #fff; height: autopx; box-shadow: 0px 0px 5px #555; padding-top: 15px; border-right: 4px solid #C7DCEB; border-left: 4px solid #C7DCEB; text-align: justify; font-family: arial; font-size: 12px; color: #333;" align="center"><h2 style="color: black; margin: 0px; text-align: center;">&nbsp;Zakahr Antarr</h2><div style="margin-top: 0px; margin-bottom: 10px; font-family: cambria; font-size: 12px; color: black; text-transform: uppercase; text-align: center;">Ibrido | Druido/Magus | 9&deg; | NN | <a title="Zakahr Antarr" href="https://bit.ly/2TI7aPw">Scheda</a>&nbsp;| <a title="Zakahr Diceroom" href="https://rolz.org/dr?room=zakahr_dice_room">diceroom</a></div><div style="float: left; margin-left: 10px; margin-right: 5px;"><div style="border: 0px solid #c0c0c0; width: 100px; height: 200px; background: url('https://i.im.ge/2023/01/07/qeAMxL.zakahr-2.png'); background-size: cover; background-position-x:-45px"><img /></div></div><div style="height: 200px; overflow: auto; padding-left: 5px; padding-right: 5px; margin-right: 10px; font-family: arial; font-size: 12px; line-height: 1.2;"><p style="margin: 1px;">TESTO MESSAGGIO

</p></div><div style="text-align: left; float: left; margin: 15px 0px 0px 10px; width: 177px; padding: 5px; border: solid #C7DCEB; border-width: 1px 0px 1px 0px; line-height: 16px; overflow: auto; height: 130px;"><b><u>HP</u></b> <i>102</i>/102
<b><u>CA</u></b> 24 <b><u>RI</u></b> 20
<b><u>Tpc</u></b> <b>TIRO TPC</b> (danni <b>DANNO</b>)
<b><u>Conferma Critico</u></b> <b>CRITICO</b> (danno critico <b>DANNOCRITICO</b>)
<small>BONUS AL TPC</small>

<b>Mischia</b>
&#10087; 2 Artigli +15 (1d4+8/x2);
&#10087; Morso del drago +15 (2d6+12/x2)
&#10087; Alabarda +5 accumula incantesimi +20 (1d10+13/×3, Puntare, Portata)
&#10087; Spada bastarda +5 furiosa +20 (1d10+13, 19–20/×2);
&#10087; 2 Pugnali celati +15 (1d4+5/19-20x2);
</div><div style="text-align: left; float: left; margin: 15px 5px 15px 5px; width: 176px; padding: 5px; border: solid #C7DCEB; border-width: 1px 0px 1px 0px; line-height: 16px; overflow: auto; height: 130px;"><b><u>HP</u></b> <i>28</i>/28
<b><u>CA</u></b> 14
<b><u>TpC</u></b> <b>-</b> (danni <b>-</b>)

<b>Mischia</b>
&#9824; Pungiglione +5 (1d3-2 più Veleno)
&#9824; morso +5 (1d2-2)

<u><b>Incantesimi usati</b></u>
<b>Lv0</b> &#8734;
<b>Lv1</b> 0/4
<b>Lv2</b> 1/3
<b>Lv3</b> 0/2

</div><div style="text-align: left; margin: 15px 0px 0px 5px; width: 177px; padding: 5px; border: solid #C7DCEB; border-width: 1px 0px 1px 0px; line-height: 16px; overflow: auto; height: 130px;"><b><u>Equipaggiamento</u></b>
0 [color=lightgrey]<b>MP</b>[/color] | 37.199 [color=gold]<b>MO</b>[/color] | 1.006 [color=lightsteelblue]<b>MA</b>[/color] | 0 [color=darkorange]<b>MR</b>[/color]<div style="border-bottom: 1px solid #000000; width: 100%; margin-top:5px"></div>
<u><b>Capacità</b></u>

&#10087; [URL=https://golarion.altervista.org/wiki/Incantesimi/Individuazione_del_Magico]Individuazione del magico[/URL] sempre attivo
&#10087; Soffio del drago (0/1) (Rifl CD 20 dimezza - 1d6/DV)
&#10087; Mutagene (0/1) (10/10 min)
&#10087; Capacità magiche usate (-)
&#10087; Incantesimi pronti (druido)
Lv 1 6
Lv 2 4
Lv 3 3

&#10087; Incantesimi pronti (magus)
Lv 1 5
Lv2 5
Lv3 3
&#10087; Forma di Drago II (usati 1/8 min): +6 for, +4 cos (+36 hp), +6 ca, 8d8 (Rifl CD 19 dimezza), morso (2d6), 2 artigli (1d8), 2 attacchi d’ala (1d6), un colpo di coda (1d8)

</div></div></div></code></pre>

<hr>





<table>
<tbody>
<tr>
<td><label for="testo">Incolla qui la base intestazione:</label><br>
	<textarea id="testo" rows="10" cols="80"></textarea><br><br>
	<form>
		<label for="param1">Scrivi il post:</label><br>
		<textarea id="param1" rows="10" cols="80"></textarea><br><br>
		<label for="param2">Risultato tiro tpc:</label>
		<input type="text" id="param2" name="param2">
		<label for="param2">Danno:</label>
		<input type="text" id="param4" name="param4"><br><br>
		<label for="critico">Critico? Spunta se sì:</label>
 		 <input type="checkbox" id="critico" name="critico" onchange="mostraCampo()">
				<div id="campo-facoltativo" style="display:none;">
   					 <label for="criticoSi">Tiro di conferma critico:</label>
    					 <input type="text" id="criticoSi" name="criticoSi">
   					 <label for="dannocritico">Danno critico:</label>
    					 <input type="text" id="dannocritico" name="dannocritico">
 				</div>
            <br><br>
		<label for="param3">Bonus ai tpc:</label><br>
		<textarea id="param3" style="width: 100px; height:50px"></textarea><br><br>

	</form>

	
	<button onclick="modificaTesto()">Modifica Testo</button>
	
	<script>
function mostraCampo() {
  var campo = document.getElementById("campo-facoltativo");
  if (document.getElementById("critico").checked) {
    campo.style.display = "block";
  } else {
    campo.style.display = "none";
  }
}



function modificaTesto() {
  // prendi il testo dalla textarea
  var testo = document.getElementById("testo").value;
  
  // prendi i parametri dal form
  var param1 = document.getElementById("param1").value;
  var param2 = document.getElementById("param2").value;
  var param3 = document.getElementById("param3").value;
  var param4 = document.getElementById("param4").value;
  var param5 = document.getElementById("criticoSi").value;
  var param6 = document.getElementById("dannocritico").value;
  
  // controlla se il checkbox è selezionato
  var criticoCheckbox = document.getElementById("critico");
  var isCritico = criticoCheckbox.checked;

  // impostare i valori predefiniti per param5 e param6 se il checkbox è selezionato
 // var param5 = "";
 // var param6 = "";
 // if (isCritico) {
 // param5 = "CRITICO";
 // param6 = "DANNOCRITICO";
// }

  // sostituire l'intera stringa con una stringa vuota se il checkbox non è selezionato
  if (!isCritico) {
    testo = testo.replace("<b><u>Conferma Critico</u></b> <b>CRITICO</b> (danno critico <b>DANNOCRITICO</b>)", "");
  } else {
    // modifica il testo con i parametri se il checkbox è selezionato
    testo = testo.replace("CRITICO", param5);
    testo = testo.replace("DANNOCRITICO", param6);
  }

 // modifica il testo con i parametri
			testo = testo.replace("TESTO MESSAGGIO", param1);
			testo = testo.replace("TIRO TPC", param2);
			testo = testo.replace("BONUS AL TPC", param3);
			testo = testo.replace("DANNO", param4);
			//testo = testo.replace("CRITICO", param5);
			//testo = testo.replace("DANNOCRITICO", param6);


			
			// copia il testo modificato negli appunti
			var dummy = document.createElement("textarea");
			document.body.appendChild(dummy);
			dummy.value = testo;
			dummy.select();
			document.execCommand("copy");
			document.body.removeChild(dummy);



// mostra un messaggio di alert
alert("Il testo è stato copiato negli appunti!");
		}
	</script></td>

<td><iframe src="https://rolz.org/" title="Accesso Rolz alla Diceroom" style="width:600px; height:500px"></iframe>


</td>
</tr>
<tr>
<td>3</td>
<td>4</td>
</tr>
</tbody>
</table>

	
</body>
</html>
